<!DOCTYPE html>
<html lang="en">
<head>
        <title>Brainacle - twitter</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="http://brainacle.com/theme/css/main.css" type="text/css" />
        <link href="http://brainacle.com/" type="application/atom+xml" rel="alternate" title="Brainacle ATOM Feed" />


        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://brainacle.com/css/ie.css"/>
                <script src="http://brainacle.com/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://brainacle.com/css/ie6.css"/><![endif]-->

</head>

<body id="index" class="home">
    <a href="#index" id="goto-top">TOP</a>
    <a href="#extras" id="goto-bottom">Links/Blogroll</a>
<a href="https://github.com/dekomote/Brainacle">
<img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub" />
</a>
        <header id="banner" class="body">
                <h1><a href="http://brainacle.com"><img src="http://brainacle.com/theme/images/brainacle_logo.png" alt="Brainacle "/></a></h1>
                <nav><ul>
                    <li><a href="http://brainacle.com">Home</a></li>
                    <li><a href="http://brainacle.com/pages/pages/about.html">About</a></li>
                    <li ><a href="http://brainacle.com/category/Coding.html">Coding</a></li>
                    <li ><a href="http://brainacle.com/category/Miscellaneous.html">Miscellaneous</a></li>
                    <li ><a href="http://brainacle.com/category/Sys.html">Sys</a></li>
                <li><a href="http://brainacle.com/archives.html">Archives</a></li>
                </ul></nav>
        </header><!-- /#banner -->
        
        
        <aside id="featured" class="body"><article>
                <h1 class="entry-title"><a href="http://brainacle.com/how-to-use-django-uni-form-with-twitter-bootstrap-css.html">How to use Django Uni-form with Twitter Bootstrap CSS</a></h1> 
                <footer class="post-info">
                        <abbr class="published" title="2012-02-13T20:58:00">
                                Mon 13 February 2012
                        </abbr>

                        <address class="vcard author">
                                By <a class="url fn" href="#">Dejan Noveski</a>
                        </address>
                <p>In <a href="http://brainacle.com/category/Coding.html">Coding</a>. </p>
<p>tags: <a href="http://brainacle.com/tag/python.html">python</a> <a href="http://brainacle.com/tag/plugin.html">plugin</a> <a href="http://brainacle.com/tag/vim.html">vim</a> <a href="http://brainacle.com/tag/coding.html">coding</a> <a href="http://brainacle.com/tag/twitter.html">twitter</a> <a href="http://brainacle.com/tag/bootstrap.html">bootstrap</a> <a href="http://brainacle.com/tag/uniform.html">uniform</a> </p></p>                </footer><!-- /.post-info -->
                <p>I'm sure, most of you, know what <a class="reference external" href="https://github.com/pydanny/django-uni-form">django-uni-form</a> is... For those that don't, django-uni-form is a
very cool django app that makes form management/styling/layouting a breeze. You can do pretty much anything to a form with it: Split it in formsets, add
HTML between every element, wrap different elements in different containers etc. Also, it produces great HTML, and it manages the &lt;form&gt; tag, as well
as the submit/reset buttons. If you aren't using it, you should definitely start.</p>
<p><a class="reference external" href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a> is a client side framework by twitter, encompassing many aspects - layout, sane default CSS, typography,
Javascript plugins, even some icons. It looks very professional, it's easy to use and very popular. The way bootstrap styles a form is what most people need when
building or prototyping a web app. But, you need to be able to change some css classes and html elements in order to work.</p>
<p>Doing this with django-uni-form is extremely easy. All we need to do is change the default <strong>field</strong> template. I'll start with an example:</p>
<div class="section" id="bootstrap">
<h2>Bootstrap</h2>
<p>This step is easy. Just make sure you have downloaded the Bootstrap CSS file, and that it's properly loaded.</p>
</div>
<div class="section" id="the-html">
<h2>The HTML</h2>
<p>Simple HTML is all we need:</p>
<div class="highlight"><pre>{% load uni_form_tags %}
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>Django Uniform and Bootstrap<span class="nt">&lt;/title&gt;</span>
  <span class="c">&lt;!-- LOAD BOOTSTRAP CSS HERE --&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">&quot;navbar&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/header&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">role=</span><span class="s">&quot;main&quot;</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;span12&quot;</span><span class="nt">&gt;</span>
            {% uni_form form form.helper %}
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;footer&gt;</span>
      Brainacle 2012
    <span class="nt">&lt;/footer&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  <span class="c">&lt;!-- LOAD BOOTSTRAP JS HERE --&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<div class="section" id="the-form">
<h2>The Form</h2>
<p>I'm making a simple User edit ModelForm, with one extra text field:</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">django</span> <span class="kn">import</span> <span class="n">forms</span>
<span class="kn">from</span> <span class="nn">django.contrib.auth.models</span> <span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span> <span class="nn">django.core.urlresolvers</span> <span class="kn">import</span> <span class="n">reverse</span>

<span class="kn">from</span> <span class="nn">uni_form.helper</span> <span class="kn">import</span> <span class="n">FormHelper</span>
<span class="kn">from</span> <span class="nn">uni_form.layout</span> <span class="kn">import</span> <span class="n">Layout</span><span class="p">,</span> <span class="n">ButtonHolder</span><span class="p">,</span> <span class="n">Submit</span><span class="p">,</span> <span class="n">Fieldset</span>


<span class="k">class</span> <span class="nc">UserEditForm</span><span class="p">(</span><span class="n">forms</span><span class="o">.</span><span class="n">ModelForm</span><span class="p">):</span>
    <span class="n">bio</span> <span class="o">=</span> <span class="n">forms</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">label</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s">&#39;Bio&#39;</span><span class="p">),</span> <span class="n">required</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
                    <span class="n">widget</span><span class="o">=</span><span class="n">forms</span><span class="o">.</span><span class="n">Textarea</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;class&#39;</span><span class="p">:</span><span class="s">&#39;span12&#39;</span><span class="p">}))</span>

    <span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
        <span class="n">model</span> <span class="o">=</span> <span class="n">User</span>
        <span class="n">fields</span> <span class="o">=</span> <span class="p">(</span><span class="s">&quot;username&quot;</span><span class="p">,</span> <span class="s">&quot;first_name&quot;</span><span class="p">,</span> <span class="s">&quot;last_name&quot;</span><span class="p">,</span> <span class="s">&quot;email&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">helper</span> <span class="o">=</span> <span class="n">FormHelper</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">helper</span><span class="o">.</span><span class="n">form_method</span> <span class="o">=</span> <span class="s">&#39;POST&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">helper</span><span class="o">.</span><span class="n">form_action</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s">&quot;user_edit_view_name&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">helper</span><span class="o">.</span><span class="n">form_class</span> <span class="o">=</span> <span class="s">&#39;form-horizontal&#39;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">helper</span><span class="o">.</span><span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span>
            <span class="n">Fieldset</span><span class="p">(</span>
                <span class="s">&#39;Edit Account Info&#39;</span><span class="p">,</span>
                <span class="s">&#39;username&#39;</span><span class="p">,</span> <span class="s">&#39;first_name&#39;</span><span class="p">,</span> <span class="s">&#39;last_name&#39;</span><span class="p">,</span>
                <span class="s">&#39;email&#39;</span><span class="p">,</span> <span class="s">&#39;bio&#39;</span><span class="p">,</span> <span class="s">&#39;save&#39;</span><span class="p">,</span>
            <span class="p">),</span>
            <span class="n">ButtonHolder</span><span class="p">(</span>
                <span class="n">Submit</span><span class="p">(</span><span class="s">&#39;save&#39;</span><span class="p">,</span> <span class="s">&#39;Save&#39;</span><span class="p">,</span> <span class="n">css_class</span><span class="o">=</span><span class="s">&#39;btn btn-large btn-primary pull-right&#39;</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">UserEditForm</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
<p><strong>Notes:</strong> We add span10 class to the &quot;bio&quot; field textarea because labels will take 2 spans, and we want the textarea
fill the entire width. We add class &quot;form-horizontal&quot; to the form, to get the labels position in line with the inputs.
The button classes are also important.</p>
</div>
<div class="section" id="the-magic">
<h2>The Magic</h2>
<p>Now, we have to tell uni-form to generate html that will be compatible with Bootstrap.
Lucky enough, uni-form provides us with the ability to override the generic field HTML template.
Just make a new file called <strong>field.html</strong> inside <strong>[template root path]/uni_form/</strong> folder with the
following content:</p>
<div class="highlight"><pre>{% if field.is_hidden %}
    {{ field }}
{% else %}
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;control-group {% if field.errors %}error{% endif %}&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">&quot;{{ field.auto_id }}&quot;</span> <span class="na">class=</span><span class="s">&quot;control-label&quot;</span><span class="nt">&gt;</span>
        {% if field.field.required %}<span class="nt">&lt;b&gt;</span>{% endif %}{{ field.label|safe }}{% if field.field.required %}*<span class="nt">&lt;/b&gt;</span>{% endif %}
    <span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;controls&quot;</span><span class="nt">&gt;</span>
        {{ field }}
        {% if field.errors %}
            <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;help-inline&quot;</span><span class="nt">&gt;</span>{% for error in field.errors %}{{ error }}<span class="nt">&lt;br/&gt;</span> {% endfor %}<span class="nt">&lt;/span&gt;</span>
        {% endif %}
        {% if field.help_text%}
            <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;help-block&quot;</span><span class="nt">&gt;</span>
                {{ field.help_text|safe }}
            <span class="nt">&lt;/p&gt;</span>
        {% endif %}
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
{% endif %}
</pre></div>
<p>This template handles labels, required fields, help text, errors etc. The end result looks something like this:</p>
<div class="center-align container">
<img alt="" src="../static/uploads/bootstrap_uniform.png" />
</div>
</div>

        </article></aside><!-- /#featured -->
</ol><!-- /#posts-list -->
</section><!-- /#content -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://atomidata.com/">Atomidata</a></li>
                            <li><a href="http://pressedweb.com/">Pressed Web</a></li>
                            <li><a href="http://flyeyedesign.com">Flyeye Design</a></li>
                            <li><a href="/archives.html">Archives</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://brainacle.com/" rel="alternate">atom feed</a></li>

                            <li><a href="http://twitter.com/dekomote">@dekomote</a></li>
                            <li><a href="http://twitter.com/itarpeyo">@ItarPeyo</a></li>
                            <li><a href="https://bitbucket.org/vvangelovski/">Vasil's Bitbucket</a></li>
                            <li><a href="https://bitbucket.org/dekomote/">Dejan's Bitbucket</a></li>
                            <li><a href="https://github.com/dekomote">Dejan's Github</a></li>
                            <li><a href="https://github.com/vvangelovski">Vasil's Github</a></li>
                            <li><a href="mailto:info@atomidata.com">Mail Us</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                &copy; Brainacle 2011 | Proudly powered by <a href="http://alexis.notmyidea.org/pelican/">Pelican</a>.
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-26853324-1");
    pageTracker._trackPageview();
    } catch(err) {}</script>
</body>
</html>